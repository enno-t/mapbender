{% extends "@MapbenderCore/index.html.twig" %}

{%- set pagetitle = fom.server_name  ~ ' - ' ~ application.title -%}

{% block css %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/mapbendercore/mapbender.splashscreen.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/mapbendercore/fonts/open-sans/open-sans.css') }}"/>
    <link rel="stylesheet" href="{{ path('mapbender_core_application_assets', {'slug': application.slug, 'type': 'css'}) }}"/>
    <link rel="stylesheet" href="{{ asset('bundles/mapbendercore/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css') }}"/>
{% endblock %}

{% block trans %}
    {{ parent() }}
    <script type="text/javascript" src="{{ path('mapbender_core_application_assets', {'slug': application.slug, 'type': 'trans'}) }}"></script>
{% endblock %}

{% block js %}
    <script type="text/javascript">window.applicationConfigUrl = '{{ path('mapbender_core_application_configuration', {'slug': application.slug}) }}';</script>
    {{ parent() }}
    <script type="text/javascript" src="{{ path('mapbender_core_application_assets', {'slug': application.slug, 'type': 'js'}) }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/mapbendercore/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js') }}"></script>
{% endblock %}

{% block content %}
    {% block splash_screen %}
        {% if region_props.content.properties.splashscreen is defined and region_props.content.properties.splashscreen %}
        <div id="splash-screen" class="splashscreen__wrapper js-splashscreen{% if region_props.content.properties.autohide_splashscreen %} js-splashscreen-autohide{% endif %}">
            <div class="splashscreen">
                <img class="splashscreen__img" src="{{ asset(fom.server_logo) }}" alt="">
                <h1 class="splashscreen__title">{{ application.title }}</h1>
                {% if application.description %}
                    <p class="splashscreen__text">{{ application.description }}</p>
                {% endif %}
                <div class="loadingspinner"><div class="loadingspinner__inner">
                <div></div><div><div></div></div>
                </div></div>
                {{ 'mb.splashscreen.loading' | trans }}
            </div>
        </div>
        {% endif %}
    {% endblock %}
    {% block frontend_content %}{% endblock %}
{% endblock %}
